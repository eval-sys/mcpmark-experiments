{
  "task_id": "numbered_list_emojis",
  "task_name": "Numbered List Emojis",
  "category_id": "self_assessment",
  "category_name": "Self Assessment",
  "description": "Replace numbered list items with corresponding emoji numbers for better visual formatting.",
  "author": "Xiangyan Liu",
  "created_at": "2025-07-27",
  "difficulty": "L3",
  "tags": [
    "visual formatting",
    "automated migration"
  ],
  "mcp": [
    "notion"
  ],
  "meta_data": {
    "stateType": "url",
    "stateContent": null,
    "stateUrl": "https://painted-tennis-ebc.notion.site/Self-Assessment-24381626b6d780fe9f56c2ba14ea042d",
    "stateOriginalUrl": "https://painted-tennis-ebc.notion.site/Self-Assessment-24381626b6d780fe9f56c2ba14ea042d"
  },
  "instruction": "Please find all numbered list items in the Self Assessment page, use Notion tools to replace the numbers with corresponding emoji numbers (e.g., 1️⃣, 2️⃣, 3️⃣). For example:\nHere is the translated and reformatted version of your request:\n\nIf the original numbered list is:\n\n1. First step\n2. Second step\n3. Third step\n\nIt should become:\n\n1️⃣ First step\n2️⃣ Second step\n3️⃣ Third step",
  "verify": "import sys\nfrom notion_client import Client\nfrom tasks.utils import notion_utils\n\n\ndef verify(notion: Client, main_id: str = None) -> bool:\n    \"\"\"\n    Verifies that numbered lists have been replaced with emoji numbers.\n    \"\"\"\n    # Start from main_id if provided, otherwise search for the page\n    self_assessment_page_id = main_id\n    if main_id:\n        found_id, object_type = notion_utils.find_page_or_database_by_id(\n            notion, main_id\n        )\n        if found_id and object_type == \"page\":\n            self_assessment_page_id = found_id\n\n    if not self_assessment_page_id:\n        # Try to find by name\n        self_assessment_page_id = notion_utils.find_page(notion, \"Self Assessment\")\n\n    if not self_assessment_page_id:\n        print(\"Error: Self Assessment page not found.\", file=sys.stderr)\n        return False\n\n    # Get all blocks recursively from the main page\n    all_blocks = notion_utils.get_all_blocks_recursively(\n        notion, self_assessment_page_id\n    )\n\n    # Find all numbered_list_item blocks\n    numbered_list_items = []\n    for block in all_blocks:\n        if block.get(\"type\") == \"numbered_list_item\":\n            numbered_list_items.append(block)\n\n    if len(numbered_list_items) > 0:\n        print(\n            f\"Error: found {len(numbered_list_items)} numbered list items that should be converted to emoji numbers\",\n            file=sys.stderr,\n        )\n        # return False\n\n    required_items = [\n        \"1️⃣ Record Each Hyperfocus Session:\",\n        \"2️⃣ Review and Reflect:\",\n        \"3️⃣ Adjust and Optimize:\",\n        '1️⃣ Harvard Business Review: \"The Making of a Corporate Athlete\"',\n        '2️⃣ \"Hyperfocus: How to Be More Productive in a World of Distraction\" by Chris Bailey',\n        '3️⃣ \"Attention Management: How to Create Success and Gain Productivity Every Day\" by Maura Thomas',\n        '4️⃣ \"Deep Work: Rules for Focused Success in a Distracted World\" by Cal Newport',\n        \"1️⃣ Record Each Hyperfocus Session:\",\n        \"2️⃣ Review and Reflect:\",\n        \"3️⃣ Adjust and Optimize:\",\n        \"1️⃣ What time of day do you feel most focused?\",\n        \"2️⃣ Which environment helps you concentrate the most?\",\n        \"3️⃣ What type of tasks do you find yourself getting lost in?\",\n    ]\n\n    # Make a copy to track which items we've found\n    remaining_items = required_items.copy()\n\n    # Iterate through all blocks to find matching text\n    for block in all_blocks:\n        block_text = notion_utils.get_block_plain_text(block).strip()\n\n        # Check if this block's text matches any of our required items\n        if block_text in remaining_items:\n            remaining_items.remove(block_text)\n            print(f\"Found: {block_text}\")\n\n    # Check if all required items were found\n    if len(remaining_items) == 0:\n        print(\"Success: All numbered lists have been converted to emoji numbers\")\n        return True\n    else:\n        print(f\"Error: Missing {len(remaining_items)} required items:\", file=sys.stderr)\n        for item in remaining_items:\n            print(f\"  - {item}\", file=sys.stderr)\n        return False\n\n\ndef main():\n    \"\"\"\n    Executes the verification process and exits with a status code.\n    \"\"\"\n    notion = notion_utils.get_notion_client()\n    main_id = sys.argv[1] if len(sys.argv) > 1 else None\n    if verify(notion, main_id):\n        sys.exit(0)\n    else:\n        sys.exit(1)\n\n\nif __name__ == \"__main__\":\n    main()\n"
}